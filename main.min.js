var i=products=[{id:1,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:2,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:3,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:4,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:5,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:6,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:7,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"},{id:8,price:1925,title:"Филадельфия люкс",amount:"8 шт./350 гр.",oldPrice:1e4,img:"./src/images/rollicons/rolls.svg"}],t=basket={quantity:0,summ:0,products:[],add(i){let t=this.products.find((t=>t.id==i));t?t.quantity++:this.products.push({id:i,quantity:1}),this._calculateQuantity(),this._calculateSumm(),console.log(this.products)},_calculateQuantity(){this.quantity=0,this.products.forEach((i=>{this.quantity+=i.quantity})),document.querySelector(".goods_amount").innerHTML=this.quantity},_calculateSumm(){this.summ=0,this.products.forEach((t=>{let s=i.find((i=>t.id==i.id));s&&(this.summ+=parseInt(t.quantity)*parseFloat(s.price))})),document.querySelector(".price-amount").innerHTML=this.summ}};fetch("https://raw.githubusercontent.com/saddscrin/assets/main/products.json").then((i=>i.json())).then((i=>{!function(i){let t=document.querySelector(".block_nav__border");t&&Object.entries(i).forEach((i=>{if(1==i[1].status){let s=`<div class="nav_element"><a href="">${i[1].name}</a></div>`;t.innerHTML+=s}}))}(i)})),(()=>{let t=document.querySelector(".product_cards");i.forEach((i=>{t.innerHTML+=`\n     <div class="product_card">\n        <div class="product_img">\n            <div class="property_icons">\n                <img src="src/images/rollicons/Property=Spicy.svg" alt="#">\n                <img src="src/images/rollicons/Property=Hot.svg" alt="#">\n                <img src="src/images/rollicons/Property=Vegan.svg" alt="#">\n            </div>\n            <img class="roll_img" src="${i.img}" alt="#">\n        </div>\n        <div class="order_sidebar">\n            <div class="textin_grid">\n                <div class="rollsname">${i.title}</div>\n                <div class="amount">${i.amount}</div>\n            </div>\n            <div class="order_details">\n                <div class="price1">${i.oldPrice}</div>\n                <button class="price2">${i.price}</button>\n            </div>\n        </div>\n    </div>\n   `}))})(),document.querySelectorAll(".order_details").forEach((i=>{i.addEventListener("click",(function(i){t.add(i.target.getAttribute("product_id"))}))}));
